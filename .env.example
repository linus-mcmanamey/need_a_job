# Job Application Automation System - Environment Configuration Template
# Copy this file to .env and fill in your actual values
# IMPORTANT: Never commit .env to version control

# =============================================================================
# Application Settings
# =============================================================================
APP_ENV=development  # Options: development, production
LOG_LEVEL=INFO       # Options: DEBUG, INFO, WARNING, ERROR, CRITICAL

# =============================================================================
# Database Configuration (DuckDB)
# =============================================================================
DUCKDB_PATH=data/job_applications.duckdb

# =============================================================================
# Redis Configuration (Job Queue)
# =============================================================================
# For LOCAL development (Homebrew/native Redis):
# REDIS_URL=redis://localhost:6379
# REDIS_HOST=localhost
# REDIS_PORT=6379

# For DOCKER development (docker-compose):
REDIS_URL=redis://redis:6379
REDIS_HOST=redis
REDIS_PORT=6379

# =============================================================================
# Claude API Configuration
# =============================================================================
# Get your API key from: https://console.anthropic.com/
ANTHROPIC_API_KEY=sk-ant-api03-your-api-key-here

# Model selection for different agents (optional - defaults in code)
# AGENT_MODEL_DEFAULT=claude-sonnet-4
# AGENT_MODEL_ORCHESTRATOR=claude-opus
# AGENT_MODEL_SALARY_VALIDATOR=claude-haiku

# =============================================================================
# MCP (Model Context Protocol) Server Configuration
# =============================================================================
# These credentials are used by scripts/setup_mcp_config.py to generate .mcp.json
# Run: python scripts/setup_mcp_config.py after setting these values

# LinkedIn MCP Server - Authentication cookie (li_at)
# To get this:
# 1. Log into LinkedIn in your browser
# 2. Open Developer Tools (F12)
# 3. Go to Application > Cookies > linkedin.com
# 4. Copy the value of 'li_at' cookie
# Note: This cookie expires approximately every 30 days
LINKEDIN_COOKIE=your-linkedin-li_at-cookie-here

# GitHub MCP Server - Personal Access Token (optional)
# To get this:
# 1. Go to GitHub Settings > Developer settings > Personal access tokens
# 2. Generate new token with 'repo' and 'read:org' scopes
# 3. Copy the generated token
# Note: Keep this token secure and never commit it
GITHUB_TOKEN=ghp_your-github-token-here

# =============================================================================
# Email Configuration (Application Submission)
# =============================================================================
# Email service configuration is in config/email.yaml
# These environment variables are used by the email service

# Your Gmail address (used for SMTP authentication and as sender)
EMAIL_USERNAME=your.email@gmail.com

# Gmail App Password (NOT your actual Gmail password)
# Setup instructions:
# 1. Enable 2-Factor Authentication on your Gmail account
# 2. Go to Google Account → Security → App Passwords
# 3. Generate App Password for "Mail" app
# 4. Copy the 16-character password here (remove spaces)
# 5. More info: https://support.google.com/accounts/answer/185833
EMAIL_PASSWORD=xxxx-xxxx-xxxx-xxxx

# Legacy email settings (deprecated - will be removed in V2)
# Use EMAIL_USERNAME and EMAIL_PASSWORD instead
SMTP_SERVER=smtp.gmail.com
SMTP_PORT=587
SMTP_USE_TLS=true
SENDER_EMAIL=your.email@gmail.com
SENDER_PASSWORD=your-app-password-here

# =============================================================================
# MCP Server Configuration
# =============================================================================
MCP_CONFIG_PATH=.mcp.json

# =============================================================================
# Job Discovery Settings (Phase 1)
# =============================================================================
# Enable automatic job discovery polling (set to true for production)
ENABLE_AUTO_DISCOVERY=false

# How often to poll for new jobs (in hours)
DISCOVERY_INTERVAL_HOURS=1

# Platform-specific settings
LINKEDIN_MAX_RESULTS=50
SEEK_MAX_RESULTS=50
INDEED_MAX_RESULTS=50

# =============================================================================
# RQ Worker Configuration
# =============================================================================
# Queue names (comma-separated)
RQ_QUEUE_NAMES=discovery_queue,pipeline_queue,submission_queue

# Worker name (optional - defaults to hostname)
# WORKER_NAME=worker-1

# Worker concurrency (number of workers to spawn)
WORKER_COUNT=3

# =============================================================================
# Agent Configuration
# =============================================================================
# Job matching threshold (0.0 - 1.0)
JOB_MATCH_THRESHOLD=0.70

# Minimum salary (AUD per day)
MIN_SALARY_AUD_PER_DAY=800

# Maximum salary (AUD per day)
MAX_SALARY_AUD_PER_DAY=1500

# =============================================================================
# Duplicate Detection Settings
# =============================================================================
# Tier 1 (fuzzy matching) threshold
DUPLICATE_TIER1_THRESHOLD=0.90

# Tier 2 (LLM embedding) threshold
DUPLICATE_TIER2_THRESHOLD=0.90

# Look back period for duplicate detection (days)
DUPLICATE_LOOKBACK_DAYS=30

# =============================================================================
# File Storage Configuration
# =============================================================================
# CV/CL template directory
CV_TEMPLATE_DIR=current_cv_coverletter

# Generated documents output directory
OUTPUT_DIR=export_cv_cover_letter

# Alternative output directory (for existing applications)
ALT_OUTPUT_DIR=second_folder

# =============================================================================
# Security Settings
# =============================================================================
# Secret key for API authentication (V2 feature)
# SECRET_KEY=your-secret-key-here

# Allowed CORS origins (comma-separated, for API access)
# ALLOWED_ORIGINS=http://localhost:7860,http://localhost:8000

# =============================================================================
# Logging Configuration
# =============================================================================
LOG_DIR=logs
LOG_ROTATION=1 day
LOG_RETENTION=30 days
LOG_FORMAT={time:YYYY-MM-DD HH:mm:ss} | {level} | {name}:{function}:{line} | {message}

# =============================================================================
# Rate Limiting (API Protection)
# =============================================================================
# LinkedIn API rate limit (calls per hour)
LINKEDIN_RATE_LIMIT=100

# SEEK scraping rate limit (calls per hour)
SEEK_RATE_LIMIT=50

# Indeed scraping rate limit (calls per hour)
INDEED_RATE_LIMIT=50

# Claude API rate limit (calls per minute)
CLAUDE_RATE_LIMIT=50

# =============================================================================
# Development Settings (Optional)
# =============================================================================
# Enable debug mode (verbose logging, detailed error messages)
DEBUG=false

# Enable dry-run mode (no actual applications sent)
DRY_RUN=false

# Enable approval mode (require manual approval before submission)
APPROVAL_MODE=true

# =============================================================================
# Monitoring & Metrics (Optional - V2 Feature)
# =============================================================================
# Enable metrics collection
# ENABLE_METRICS=true

# Metrics export interval (seconds)
# METRICS_INTERVAL=60

# =============================================================================
# Notes
# =============================================================================
# 1. All paths are relative to the application root directory
# 2. Boolean values should be: true or false (lowercase)
# 3. Numeric values should be integers or floats without quotes
# 4. String values with spaces should be enclosed in quotes
# 5. Comments start with # and are ignored
# 6. Empty values will use defaults defined in the application
